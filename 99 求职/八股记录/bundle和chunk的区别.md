
---
### ğŸ¤– Assistant

ä»¥ä¸‹æ˜¯å…³äº **Bundleï¼ˆåŒ…ï¼‰** å’Œ **Chunkï¼ˆå—ï¼‰** çš„æ ¸å¿ƒåŒºåˆ«è§£æï¼š

---

### **æ ¸å¿ƒå¯¹æ¯”è¡¨**
| **ç‰¹æ€§**          | **Bundle**                     | **Chunk**                     |
|--------------------|--------------------------------|-------------------------------|
| **å®šä¹‰**          | æœ€ç»ˆç”Ÿæˆçš„é™æ€èµ„æºæ–‡ä»¶         | æ„å»ºè¿‡ç¨‹ä¸­ä»£ç çš„æŠ½è±¡é€»è¾‘å—     |
| **ç”Ÿæˆé˜¶æ®µ**      | æ„å»ºè¿‡ç¨‹çš„æœ€ç»ˆäº§ç‰©             | æ„å»ºè¿‡ç¨‹çš„ä¸­é—´äº§ç‰©             |
| **ç‰©ç†å­˜åœ¨**      | å®é™…å­˜åœ¨çš„æ–‡ä»¶ï¼ˆå¦‚ `.js`ï¼‰     | é€»è¾‘åˆ†ç»„ï¼Œå¯èƒ½æ˜ å°„ä¸º Bundle    |
| **ä¸å…¥å£çš„å…³ç³»**  | ç›´æ¥ç”±å…¥å£æ–‡ä»¶ç”Ÿæˆ             | å¯æ¥è‡ªå…¥å£ã€åŠ¨æ€å¯¼å…¥æˆ–æ‹†åˆ†é€»è¾‘ |
| **æ•°é‡å…³ç³»**      | ä¸€ä¸ª Chunk å¯¹åº”ä¸€ä¸ª Bundle     | ä¸€ä¸ª Bundle å¯èƒ½åŒ…å«å¤šä¸ª Chunk |
| **ä¼˜åŒ–ç›®æ ‡**      | å‡å°‘æ–‡ä»¶æ•°é‡ã€æ§åˆ¶ç¼“å­˜ç­–ç•¥     | æŒ‰éœ€åŠ è½½ã€ä»£ç æ‹†åˆ†            |
| **å…¸å‹åœºæ™¯**      | `main.js`, `vendor.js`         | å¼‚æ­¥åŠ è½½çš„æ¨¡å—ã€å…¬å…±ä¾èµ–æå–   |

---

### **æ·±å…¥è§£æ**
#### **1. Chunkï¼ˆä»£ç å—ï¼‰**
- **å®šä¹‰**ï¼š  
  Chunk æ˜¯ Webpack åœ¨æ„å»ºè¿‡ç¨‹ä¸­å¯¹ä»£ç çš„**é€»è¾‘åˆ†ç»„**ï¼Œä»£è¡¨ä¸€ç»„æ¨¡å—çš„é›†åˆã€‚
- **ç”Ÿæˆæ–¹å¼**ï¼š
  - **å…¥å£æ–‡ä»¶**ï¼šæ¯ä¸ªå…¥å£æ–‡ä»¶ç”Ÿæˆä¸€ä¸ª Chunkã€‚
  - **åŠ¨æ€å¯¼å…¥**ï¼š`import()` è¯­æ³•æˆ– `React.lazy` ä¼šåˆ›å»ºæ–° Chunkã€‚
  - **ä»£ç æ‹†åˆ†**ï¼šé€šè¿‡ `SplitChunksPlugin` æå–å…¬å…±ä¾èµ–ã€‚
- **ç‰¹ç‚¹**ï¼š
  - **é€»è¾‘æ¦‚å¿µ**ï¼šæ„å»ºè¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æ¨¡å—ä¾èµ–å…³ç³»ã€‚
  - **å¯èƒ½æ˜ å°„ä¸º Bundle**ï¼šé€šå¸¸ä¸€ä¸ª Chunk æœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ª Bundle æ–‡ä»¶ã€‚
- **ç¤ºä¾‹**ï¼š
  ```javascript
  // åŠ¨æ€å¯¼å…¥ç”Ÿæˆæ–° Chunk
  import('./module').then(module => { ... });
  ```

#### **2. Bundleï¼ˆåŒ…æ–‡ä»¶ï¼‰**
- **å®šä¹‰**ï¼š  
  Bundle æ˜¯æ„å»ºå·¥å…·ï¼ˆå¦‚ Webpackã€Rollupï¼‰æœ€ç»ˆè¾“å‡ºçš„**ç‰©ç†æ–‡ä»¶**ï¼ŒåŒ…å«ç»è¿‡å¤„ç†ï¼ˆå‹ç¼©ã€åˆå¹¶ï¼‰çš„ä»£ç ã€‚
- **ç”Ÿæˆæ–¹å¼**ï¼š
  - ç”± Chunk è½¬æ¢è€Œæ¥ï¼ˆé»˜è®¤ 1:1 å…³ç³»ï¼‰ã€‚
  - å¯é€šè¿‡é…ç½®åˆå¹¶å¤šä¸ª Chunk åˆ°å•ä¸ª Bundleï¼ˆå¦‚ `library` æ‰“åŒ…ï¼‰ã€‚
- **ç‰¹ç‚¹**ï¼š
  - **ç‰©ç†å­˜åœ¨**ï¼šæµè§ˆå™¨å®é™…åŠ è½½çš„æ–‡ä»¶ï¼ˆå¦‚ `app.js`ã€`styles.css`ï¼‰ã€‚
  - **ç›´æ¥æ§åˆ¶åŠ è½½**ï¼šé€šè¿‡ HTML å¼•ç”¨æˆ–åŠ¨æ€åŠ è½½ã€‚
- **ç¤ºä¾‹**ï¼š
  ```javascript
  // webpack.config.js é…ç½®è¾“å‡º Bundle
  output: {
    filename: '[name].bundle.js', // ç”Ÿæˆ main.bundle.js ç­‰
  }
  ```

---

### **å…³ç³»ç¤ºæ„å›¾**
```
æ„å»ºæµç¨‹ï¼š
  æ¨¡å—ä»£ç  â†’ Chunkï¼ˆé€»è¾‘åˆ†ç»„ï¼‰ â†’ Bundleï¼ˆç‰©ç†æ–‡ä»¶ï¼‰ â†’ æµè§ˆå™¨åŠ è½½

å…¸å‹æ˜ å°„å…³ç³»ï¼š
  [Entry Chunk] â†’ main.bundle.js
  [Async Chunk] â†’ 1.bundle.js
  [Vendor Chunk] â†’ vendor.bundle.js
```

---

### **å…³é”®å·®å¼‚åœºæ™¯**
#### **åœºæ™¯ 1ï¼šé»˜è®¤è¡Œä¸º**
- **Chunk**ï¼šå…¥å£æ–‡ä»¶ `index.js` å¯¹åº”ä¸€ä¸ª Chunkã€‚
- **Bundle**ï¼šç”Ÿæˆ `main.bundle.js`ï¼ˆ1:1 å…³ç³»ï¼‰ã€‚

#### **åœºæ™¯ 2ï¼šä»£ç æ‹†åˆ†**
```javascript
// åŠ¨æ€å¯¼å…¥ç”Ÿæˆæ–° Chunk
const Login = React.lazy(() => import('./Login'));
```
- **Chunk**ï¼šç”Ÿæˆä¸¤ä¸ª Chunkï¼ˆä¸» Chunk + `Login` Chunkï¼‰ã€‚
- **Bundle**ï¼šç”Ÿæˆ `main.bundle.js` å’Œ `login.bundle.js`ã€‚

#### **åœºæ™¯ 3ï¼šå…¬å…±ä¾èµ–æå–**
```javascript
// webpack.config.js
optimization: {
  splitChunks: {
    chunks: 'all', // æå–å…¬å…±ä¾èµ–åˆ°ç‹¬ç«‹ Chunk
  },
}
```
- **Chunk**ï¼šä¸» Chunk + å…¬å…±ä¾èµ– Chunkï¼ˆå¦‚ `lodash`ï¼‰ã€‚
- **Bundle**ï¼šç”Ÿæˆ `main.bundle.js` å’Œ `vendors~main.bundle.js`ã€‚

---

### **å¦‚ä½•æ§åˆ¶ Chunk å’Œ Bundle çš„å…³ç³»ï¼Ÿ**
é€šè¿‡ Webpack é…ç½®å®ç°çµæ´»æ§åˆ¶ï¼š
```javascript
// webpack.config.js
module.exports = {
  entry: {
    app: './src/index.js', // å…¥å£ Chunk
  },
  output: {
    filename: '[name].[contenthash].js', // Bundle åç§°æ¨¡æ¿
  },
  optimization: {
    splitChunks: {
      chunks: 'all', // ä»£ç æ‹†åˆ†ç­–ç•¥
    },
    runtimeChunk: 'single', // æå–è¿è¡Œæ—¶åˆ°ç‹¬ç«‹ Bundle
  },
};
```

---

### **æ€»ç»“**
- **Chunk æ˜¯é€»è¾‘å•å…ƒ**ï¼šç”¨äºæ„å»ºè¿‡ç¨‹ä¸­ç®¡ç†ä»£ç çš„åˆ†å‰²ã€ä¾èµ–å’ŒåŠ è½½ç­–ç•¥ã€‚
- **Bundle æ˜¯ç‰©ç†æ–‡ä»¶**ï¼šç›´æ¥å½±å“æµè§ˆå™¨åŠ è½½è¡Œä¸ºå’Œæ€§èƒ½ä¼˜åŒ–ï¼ˆå¦‚ç¼“å­˜ã€å¹¶è¡ŒåŠ è½½ï¼‰ã€‚
- **æœ€ä½³å®è·µ**ï¼š  
  - ä½¿ç”¨ä»£ç æ‹†åˆ†ï¼ˆChunkï¼‰å®ç°æŒ‰éœ€åŠ è½½ã€‚  
  - é€šè¿‡ Bundle æ§åˆ¶æ–‡ä»¶ç²’åº¦ï¼ˆå¦‚ `vendor` åŒ…ç¼“å­˜ç­–ç•¥ï¼‰ã€‚  
  - ç›‘æ§ Bundle å¤§å°ï¼ˆå¦‚é€šè¿‡ `webpack-bundle-analyzer`ï¼‰ã€‚