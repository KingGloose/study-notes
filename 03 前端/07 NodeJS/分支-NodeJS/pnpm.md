# 1 基本介绍

原本使用`npm/yarn`的时候，每下载一个项目就会将原本所有的包下载一遍，这样就会导致项目越来越大。所以就可以使用 pnpm`对包进行`软链接`和`硬链接`处理来节约内存

![[../../../00 assets/24b050a5003593143b73af1cb2d501be_MD5.png]]

# 2 硬链接和软链接

> 基本介绍

![[../../../00 assets/f1e8e5a7d18b25b62764602e95d7d06e_MD5.png]]

> 基本使用

![[../../../00 assets/20beaaf33934de99f4ff516697be47df_MD5.png]]

1、我们使用`硬链接`之后只要修改了其中的一个文件，建立链接的文件也可以进行同步

![[../../../00 assets/af700e7e4cc732373adf7bef25525aed_MD5.png]]

2、其实就可以理解为操作系统中的`快捷方式`，如果你删除了原本的文件，这个软连接就会消失

![[../../../00 assets/443c1fbd18da020b4b7366d8d29dac7e_MD5.png]]

# 3 高效/节省磁盘

`pnpm`会对你下载的包进行`硬链接`，所以我们构建项目直接将库中的数据读取即可，而且节省磁盘

![[../../../00 assets/5d9c6ca028ce5c93b46c657f3696fbc8_MD5.jpeg]]

# 4 非扁平化 node_modules

1、原本的`npm`就是非扁平化的`node_modules`的包，我们下载`webpack`可能出现`webpack包`中还存在一个`node_modules`，里面又包含很多的包，这样就会导致下载很多的重复的包

现在的`npm`就是下载的非扁平化的包`node_modules`，也就是会将不同的包都放置到`node_modules`中，不会再出现一个包中又出现`node_modules`。但是这种方式还是有问题，因为包都是扁平化的，所以我们可能存在引入没有下载包，也就是不能随意引入代码

![[../../../00 assets/67e7e96eb38a4b1e84ed6760271a4eba_MD5.png]]

2、我们使用`pnpm add xxx`来下载包，因为是第一次下载所以并没有复用的包

3、查看左边的标识箭头，可以看到其实底层的文件夹是使用的`软链接`来处理的，它会跳转到`硬链接`中

![[../../../00 assets/a30edca9b22a6539f08549d6a60e1ebc_MD5.png]]

4、其中`pnpm`中包管理就是按照下面的方式来存储，都是`软链接和硬链接`组合来操作的

![[../../../00 assets/6c3332cb4599cebc770742ef270fe334_MD5.png]]

5、我们再下载一遍`axios`的时候，就会发现速度很快，而且并没有下载包，而是直接复用

![[../../../00 assets/bfc98d0e615d119467d1b58703c229f4_MD5.png]]

# 5 基本操作

![[../../../00 assets/193af2c35f84965f015b17aae9ad3499_MD5.png]]

# 6 store 存储

![[../../../00 assets/ebd1a1f8806a77b3081fa08232c76af5_MD5.jpeg]]
