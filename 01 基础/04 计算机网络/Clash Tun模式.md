**让 Clash 变成“系统级的透明网关”，把你电脑/手机里大多数网络流量都先送到 Clash 里，再按规则决定走代理还是直连。**

## TUN 模式到底是什么

* **TUN = 虚拟网卡**（Virtual Network Interface）。
* 开了 TUN 后，系统里会多出一张“看不见的网卡”（比如叫 `utun` / `tun0` 之类）。
* 系统发出去的网络包（IP 包）会被**路由**到这张虚拟网卡里。
* Clash 在这里接住这些包，然后：
  * 根据规则判断：走代理 / 直连 / 拒绝
  * 再把数据转发出去
你可以把它想成：**以前是“某些 App 自己去找代理”；现在是“所有 App 先经过 Clash 这道安检口”。**


## 它有什么用（为什么要开）

### 1) 不用每个软件单独配代理

很多软件/游戏/命令行工具根本不走系统的 HTTP 代理设置，或者只支持很弱的代理能力。
* 不开 TUN：你开了系统代理，但有些软件还是直连，翻不出去。
* 开了 TUN：它们也会被“透明接管”，照样能按规则走代理。
✅ 典型场景：游戏、一些 Electron/自带网络栈的客户端、命令行下载器、某些 IDE 插件等。

### 2) 对 UDP/非 HTTP 流量更友好

普通“系统代理模式”主要是 **HTTP/HTTPS**（或者 SOCKS 但也常常不是所有程序都支持）。

TUN 是在 **更底层**接管流量，所以：
* **UDP**（比如部分游戏、语音、某些实时应用）更容易被接管
* 各种“不是浏览器那套”的流量也更容易被管住

> 当然能不能完全搞定，还取决于 Clash 版本/内核实现和你的节点协议能力。

### 3) 更接近“全局代理 / 真·分流”

你可以做到：
* 国内网站直连更快
* 国外网站走代理
* 某些域名/应用强制直连或强制代理
而且因为是系统层接管，分流更“统一”。

## 跟你平时开的“系统代理”有什么区别

### 系统代理（HTTP/SOCKS）
* 像是：**给浏览器/部分软件一个“代理地址”**
* 前提：软件愿意用它
* 不愿意用的就绕过去了

### TUN 模式
* 像是：**在系统出口加了一道关卡**
* 大多数软件不管愿不愿意，都得先过这道关（除非被排除/绕过）

## 开 TUN 的代价/注意点
* 通常需要更高权限（管理员/root），因为要改路由/创建虚拟网卡
* 可能和别的 VPN/安全软件冲突（都在抢“系统出口”）
* DNS 设置更敏感：配置不好可能出现“解析走直连导致泄露/不生效”
* 局域网访问（比如公司内网、NAS、打印机）有时需要加 **绕过规则**（bypass）

## 什么时候建议开
* 你发现：**开了系统代理，但某些 App 还是不走代理**
* 你需要：**更完整的分流 / UDP 支持**
* 你想：**少折腾每个软件的代理设置**

什么时候不一定要开：
* 你主要就浏览器 + 常见会走代理的软件，系统代理已够用
* 你在公司内网环境，开 TUN 容易影响内网访问（除非你会配绕过）