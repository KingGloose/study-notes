# 1、子网划分

> 一个自制系统内主机数为 50 台，该自制系统分配到的 P 地址块为 192.168.18.0/24。是给出每一个局域网的子网网络地址，子网掩码以及最小和最大可用 IP 地址。

1、50 < 2 ^ 6 - 2 = 64 所以主机位最小为 6 位

2、但是分配到得地址块为 190.168.18.0 / 24 网络位为 24 位，由上可得 主机位需要 6 位，总共是 32 位，那么网络位为 26 位，此时网络位需要借 2 位

子网 1：192.168.18.00 | 000000 / 26 （**| 前面为网络位，后面为主机位**）

子网 2：192.168.18.01 | 000000 / 26

子网 3：192.168.18.10 | 000000 / 26

子网 4：192.168.18.11 | 000000 / 26

3、此时以子网 1 为样本来求解

子网网络地址：192.168.18.00 | 000000 -> 192.168.18.0 / 26 （**主机位地址开头**）

子网广播地址：192.168.18.00 | 111111 -> 192.168.18.63 / 26（**主机位地址结尾**）

子网掩码：255.255.255.11 | 000000 -> 255.255.255.192 / 26 （**网络位全为 1，主机位全为 0**）

最小可用 IP 地址：192.168.18.00 | 000001 -> 192.168.18.1 / 26 （**排除开头得网络地址**）

最大可用 IP 地址：192.168.18.00 | 111110 -> 192.168.18. 62 / 26（**排除结尾得广播地址**）

4、此时以子网 2 为样本来求解

子网网络地址：192.168.18.01 | 000000 -> 192.168.18.64 / 26

子网广播地址：192.168.18.01 | 111111 -> 192.168.18.127 / 26

子网掩码：255.255.255.11 | 00000 -> 255.255.255.192 / 26

最小可用 IP 地址：192.168.18.01 | 00001 -> 192.168.18.65 / 26

最大可用 IP 地址：192.168.18.01 | 11111 -> 192.168.18.126 / 26

5、为什么需要广播地址和网络地址

![[00 assets/777fbf5867b9c24b7a2d4cfa17e4f584_MD5.png]]

> IP 地址块为 145.12.23.64/26 划分 5 个子网，写出划分后，各个子网的最大和最小 IP 地址。

1、因为划分了 5 个子网，5 个子网，那么就需要 2 ^ 3 = 8 > 5，那么至少需要 3 位

2、因为是划分的地址块中网络位为 26 位，主机位为 6 位，所以地址如下 145.12.23.01 | 000000，那么就需向主机位借 3 位，所以如下 145.12.23.01 000 | 000，这里的 000 就是借来的 3 位

3、

有下列网络拓扑图，请配置静态路由，pc1 为 192.168.1.2 默认网关为 192.168.1.1、pc2 为 192.168.2.2 默认网关为 192.168.2.1

![[00 assets/873662a643cd43a921d45d202278990a_MD5.png]]

首先我们来配置 R1

```shell
配置R1的fa1/0
en  --进入特权模式
conf t --进入全局配置模式
interface fa 1/0 --进入fa 0/1 接口
no shutdown --启动接口
ip address 192.168.1.1 255.255.255.0 为fa1/0接口配置ip
exit --退出当前接口

配置R1的Ser2/0
interface serial 2/0 --配置serial 2/0 接口
ip address 192.168.3.1 255.255.255.0 为ser2/0接口配置ip
clock rate 64000
end

配置R2的fa1/0
en
conf t
interface fa 1/0
no shutdown
ip address 192.168.2.1 255.255.255.0
exit

配置R2的Ser2/0
interface serial 2/0
ip address 192.168.3.2 255.255.255.0
clock rate 64000
end

如果这个时候PC1要ping PC2，在不同网段下要ping通，我们先来配置R1
en
conf t
int serial 2/0
no shutdown
ip route 192.168.2.0 255.255.255.0 192.168.3.2

R1已经完毕，再来配置R2
en
conf t
int serial 2/0
no shutdown
ip route 192.168.1.0 255.255.255.0 192.168.3.1
```
