# 函数定义与参数

关联：[[01 Python语法]] | [[Python语法/类型标注（typing）]] | [[Python语法/异常处理（try、except、finally、raise）]]

## 前端视角对比

- `def` ≈ `function`，但 Python 更强调“关键字参数”（named arguments）
- `*args/**kwargs` ≈ JS 的 rest 参数 + 以对象形式接收其余命名参数
- Python 默认参数“只在函数定义时求值一次”（这一点和 JS 不同，容易踩坑）

## Python 基本写法

```py
def greet(name: str, prefix: str = "Hi") -> str:
    return f"{prefix}, {name}"

greet("Alice")
greet(name="Bob", prefix="Hello")
```

## *args / **kwargs

```py
def f(*args, **kwargs):
    return args, kwargs

f(1, 2, a=3)  # ((1, 2), {'a': 3})
```

对比 JS：

```ts
function f(...args: unknown[]) {
  return args
}
```

## 默认参数易踩坑

不要用可变对象做默认值：

```py
def bad(xs=[]):
    xs.append(1)
    return xs

bad()  # [1]
bad()  # [1, 1]  (很多前端会误以为每次都是新数组)
```

推荐写法：

```py
def good(xs=None):
    if xs is None:
        xs = []
    xs.append(1)
    return xs
```
